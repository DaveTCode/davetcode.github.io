<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=HandheldFriendly content="True"><meta http-equiv=x-ua-compatible content="IE=edge"><meta http-equiv=cache-control content="no-transform"><meta http-equiv=cache-control content="no-siteapp"><meta name=generator content="Hugo 0.83.1"><link rel="shortcut icon" href=https://cdn.jsdelivr.net/gh/dsrkafuu/dsr-cdn@1/images/favicons/dsrca/favicon.ico><title>David Tyler's Blog - Tecnical writing mostly focused on emulating old systems.</title><meta name=author content="David Tyler"><meta name=description content="A coding blog specifically covering topics relating to emulation."><link rel=alternate type=application/rss+xml href=https://blog.davetcode.co.uk/index.xml title="David Tyler's Blog"><meta property="og:title" content="David Tyler's Blog"><meta name=twitter:title content="David Tyler's Blog"><meta property="og:type" content="website"><meta property="og:url" content="https://blog.davetcode.co.uk/"><meta property="og:image" content="https://blog.davetcode.co.uk/img/og.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.davetcode.co.uk/img/og.png"><meta property="og:updated_time" content="2021-05-01T13:33:09+00:00"><style>@media(prefers-color-scheme:dark){body[data-theme=auto] img{filter:brightness(60%)}}body[data-theme=dark] img{filter:brightness(60%)}</style><link rel=stylesheet href=https://blog.davetcode.co.uk/assets/css/fuji.min.css></head><body data-theme=auto><script data-cfasync=false>var fujiThemeData=localStorage.getItem('fuji_data-theme');fujiThemeData?fujiThemeData!=='auto'&&document.body.setAttribute('data-theme',fujiThemeData==='dark'?'dark':'light'):localStorage.setItem('fuji_data-theme','auto')</script><header><div class="container-lg clearfix"><div class="col-12 header"><a class=title-main href=https://blog.davetcode.co.uk/>David Tyler's Blog</a>
<span class=title-sub>Tecnical writing mostly focused on emulating old systems.</span></div></div></header><main><div class="container-lg clearfix"><div class="col-12 col-md-9 float-left content"><div class=post><h2 class="post-item post-title"><a href=https://blog.davetcode.co.uk/post/21st-century-emulator/>Bringing emulation into the 21st century</a></h2><div class="post-item post-meta"><span><i class="iconfont icon-today-sharp"></i>&nbsp;2021-05-01</span>
<span><i class="iconfont icon-file-tray-sharp"></i>&nbsp;2419 words</span>
<span><i class="iconfont icon-time-sharp"></i>&nbsp;12 minutes</span>
<span><i class="iconfont icon-pricetags-sharp"></i>&nbsp;<a href=/tags/emulation>emulation</a>&nbsp;<a href=/tags/8080>8080</a>&nbsp;<a href=/tags/spaceinvaders>spaceinvaders</a>&nbsp;<a href=/tags/satire>satire</a>&nbsp;</span></div><div class="post-item post-summary markdown-body">I&rsquo;m a huge fan of emulation but have become increasingly disillusioned with the lack of ambition shown by those in the emulation community. Whilst the rest of world moves onto massively distributed architectures, emulation is still stuck firmly in the 20th century writing single threaded C++ of all things.
As a modern forward thinking engineer I took it upon myself to start the trend of bringing emulation into the 21st century where we can leverage features like these:
Hot swappable microcode Ability to write different parts in different languages as appropriate Secure by default (mTLS on all function calls) Scalability Fault tolerance This culminated in the implementation of an 8080 microprocessor utilising a truly modern containerised microservices based architecture running on kubernetes with swappable frontends for a CP/M test harness and a full implementation of the original Space Invaders arcade machine.</div></div><div class=post><h2 class="post-item post-title"><a href=https://blog.davetcode.co.uk/post/jit-8080/>Experiments in 8080 static/jit compilation</a></h2><div class="post-item post-meta"><span><i class="iconfont icon-today-sharp"></i>&nbsp;2021-01-15</span>
<span><i class="iconfont icon-file-tray-sharp"></i>&nbsp;2331 words</span>
<span><i class="iconfont icon-time-sharp"></i>&nbsp;11 minutes</span>
<span><i class="iconfont icon-pricetags-sharp"></i>&nbsp;<a href=/tags/emulation>emulation</a>&nbsp;<a href=/tags/8080>8080</a>&nbsp;<a href=/tags/csharp>csharp</a>&nbsp;<a href=/tags/clr>clr</a>&nbsp;</span></div><div class="post-item post-summary markdown-body">I&rsquo;ve spent a lot of spare time over the last few years playing with emulating old computer architectures. I also spend my day job mentoring (and even occasionally writing) C#. This project combines those two areas of interest and asks the question: &ldquo;Is it possible to recompile 8080 assembly into CLR IL&rdquo;
Did it work? Yes! I have successfully built a fully functional Space Invaders emulator with the 8080 cpu core purely implemented in IL.
This blog post covers some of the details of what 8080 assembly looks like, what IL looks like, the process of mapping one to the other and also a fair bit of details about the complications involved.</div></div><div class=post><h2 class="post-item post-title"><a href=https://blog.davetcode.co.uk/post/nes-emulator-rust/>Nes Emulator in Rust</a></h2><div class="post-item post-meta"><span><i class="iconfont icon-today-sharp"></i>&nbsp;2020-12-10</span>
<span><i class="iconfont icon-file-tray-sharp"></i>&nbsp;2438 words</span>
<span><i class="iconfont icon-time-sharp"></i>&nbsp;12 minutes</span>
<span><i class="iconfont icon-pricetags-sharp"></i>&nbsp;<a href=/tags/emulation>emulation</a>&nbsp;<a href=/tags/rust>rust</a>&nbsp;</span></div><div class="post-item post-summary markdown-body">Over a period of 2 months in 2020 I intermittently worked on a NES emulator in rust to build a proper opinion of the language (and because it&rsquo;s fun). On the whole it was quite successful, https://github.com/DaveTCode/nes-emulator-rust now exists, has coverage of maybe 80% of the total ROM dumps out there, and passes almost all of the test rom suite.
All achieved with no unsafe, no Rc/Refcell, minimal heap allocations (we don&rsquo;t know how big a Rom is at compile time, it might be 8KB or 256KB) and a small handful of external crates.
This blog post is a write up of my feelings around rust as a language but probably provides some insights into writing an emulator along the way.</div></div></div><aside class="col-12 col-md-3 float-left sidebar"><div class="sidebar-item sidebar-pages"><h3>Pages</h3><ul><li><a href=/>Home</a></li><li><a href=/about>About</a></li></ul></div><div class="sidebar-item sidebar-links"><h3>Links</h3><ul><li><a href=https://github.com/davetcode target=_blank><span>GitHub</span></a></li><li><a href=https://www.linkedin.com/in/datyler/ target=_blank><span>LinkedIn</span></a></li></ul></div><div class="sidebar-item sidebar-tags"><h3>Tags</h3><div><span><a href=/tags/8080/>8080</a></span>
<span><a href=/tags/clr/>clr</a></span>
<span><a href=/tags/csharp/>csharp</a></span>
<span><a href=/tags/emulation/>emulation</a></span>
<span><a href=/tags/rust/>rust</a></span>
<span><a href=/tags/satire/>satire</a></span>
<span><a href=/tags/spaceinvaders/>spaceinvaders</a></span></div></div></aside></div><div class=btn><div class=btn-menu id=btn-menu><i class="iconfont icon-grid-sharp"></i></div><div class=btn-toggle-mode><i class="iconfont icon-contrast-sharp"></i></div><div class=btn-scroll-top><i class="iconfont icon-chevron-up-circle-sharp"></i></div></div><aside class=sidebar-mobile style=display:none><div class=sidebar-wrapper><div class="sidebar-item sidebar-pages"><h3>Pages</h3><ul><li><a href=/>Home</a></li><li><a href=/about>About</a></li></ul></div><div class="sidebar-item sidebar-links"><h3>Links</h3><ul><li><a href=https://github.com/davetcode target=_blank><span>GitHub</span></a></li><li><a href=https://www.linkedin.com/in/datyler/ target=_blank><span>LinkedIn</span></a></li></ul></div><div class="sidebar-item sidebar-tags"><h3>Tags</h3><div><span><a href=/tags/8080/>8080</a></span>
<span><a href=/tags/clr/>clr</a></span>
<span><a href=/tags/csharp/>csharp</a></span>
<span><a href=/tags/emulation/>emulation</a></span>
<span><a href=/tags/rust/>rust</a></span>
<span><a href=/tags/satire/>satire</a></span>
<span><a href=/tags/spaceinvaders/>spaceinvaders</a></span></div></div></div></aside></main><footer><div class="container-lg clearfix"><div class="col-12 footer"><span>&copy; 2021-2021
<a href=https://blog.davetcode.co.uk/>David Tyler</a>
| <a href=https://github.com/davetcode>Source code</a>
| Powered by <a href=https://github.com/dsrkafuu/hugo-theme-fuji/ target=_blank>Fuji-v2</a> & <a href=https://gohugo.io/ target=_blank>Hugo</a></span></div></div></footer><script defer src=https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.0/lazysizes.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1.23.0/components/prism-core.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/autoloader/prism-autoloader.min.js></script><script defer src=/assets/js/fuji.min.js></script></body></html>